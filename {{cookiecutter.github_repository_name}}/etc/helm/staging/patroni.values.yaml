bootstrapParameters:
  dcs:
    loop_wait: 30
    retry_timeout: 10
    ttl: 70
cleanup:
  image:
    pullPolicy: IfNotPresent
    repository: gcr.io/google-containers/hyperkube
    tag: v1.8.4_coreos.0
cloneWithWale:
  cloneScope: dummy
  cloneWalGcsBucket: {{ cookiecutter.app_name }}-staging-pgbackup
  cloneWaleEnvDir: /home/postgres/wal.e/env
  enable: false
debug: true
image:
  pullPolicy: Always
  repository: registry.opensource.zalan.do/acid/spilo-11
  tag: 1.5-p6
nodeSelector:
  cloud.google.com/gke-nodepool: postgres-pool
persistentVolume:
  accessModes:
  - ReadWriteOnce
  annotations:
    app: spilo
    release: patroni-{{ cookiecutter.app_name }}
  enabled: true
  size: 50Gi
  storageClass: patroni-standard
podAntiAffinity: soft
podAntiAffinity: soft
postgresParameters:
  bin_dir: /usr/lib/postgresql/9.6/bin
  parameters:
    log_destination: stderr,csvlog
  pg_hba:
  - host    all             all                127.0.0.1/32       md5
  - hostssl replication     standby all                md5
rbac:
  create: true
replicas: 1
resources: null
tolerations:
- effect: NoSchedule
  key: dedicated
  operator: Equal
  value: postgres
useConfigMaps: false
walE:
  backupThresholdMegabytes: 1024
  backupThresholdPercentage: 30
  enable: true
  envDir: /home/postgres/etc/wal-e.d/env
  gcsBucket: {{ cookiecutter.app_name }}-staging-pgbackup
  kubernetesSecret: google-credentials-{{ cookiecutter.app_name }}-staging-postgres
  retainBackups: 2
  s3Bucket: null
  scheduleCronJob: 00 01 * * *

